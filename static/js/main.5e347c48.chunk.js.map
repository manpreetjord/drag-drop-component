{"version":3,"sources":["components/DragnDrop.js","App.js","index.js"],"names":["DragnDrop","data","useState","list","setList","dragging","setDragging","dragItem","useRef","dragNode","handleDragEnter","e","params","console","log","currentItem","current","target","oldList","newList","JSON","parse","stringify","groupIndex","items","splice","itemsIndex","handleDragEnd","removeEventListener","getStyles","className","map","group","onDragEnter","length","title","item","draggable","onDragStart","addEventListener","setTimeout","handleDragStart","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uMAkGeA,MAhGf,YAA8B,IAATC,EAAQ,EAARA,KAAQ,EACHC,mBAASD,GADN,mBACpBE,EADoB,KACdC,EADc,OAEKF,oBAAS,GAFd,mBAEpBG,EAFoB,KAEVC,EAFU,KAIrBC,EAAWC,mBACXC,EAAWD,mBAYXE,EAAkB,SAACC,EAAGC,GAC1BC,QAAQC,IAAI,gBAAiBF,GAC7B,IAAMG,EAAcR,EAASS,QACzBL,EAAEM,SAAWR,EAASO,UACxBH,QAAQC,IAAI,0BACZV,GAAQ,SAACc,GACP,IAAIC,EAAUC,KAAKC,MAAMD,KAAKE,UAAUJ,IAUxC,OATAC,EAAQP,EAAOW,YAAYC,MAAMC,OAC/Bb,EAAOc,WACP,EACAP,EAAQJ,EAAYQ,YAAYC,MAAMC,OACpCV,EAAYW,WACZ,GACA,IAEJnB,EAASS,QAAUJ,EACZO,OAKPQ,EAAgB,SAAhBA,IACJd,QAAQC,IAAI,iBAEZR,GAAY,GACZG,EAASO,QAAQY,oBAAoB,UAAWD,GAChDpB,EAASS,QAAU,KACnBP,EAASO,QAAU,MAEfa,EAAY,SAACjB,GACjB,IAAMG,EAAcR,EAASS,QAC7B,OACED,EAAYQ,aAAeX,EAAOW,YAClCR,EAAYW,aAAed,EAAOc,WAE3B,mBAEF,YAET,OACE,qBAAKI,UAAU,cAAf,SACG3B,EAAK4B,KAAI,SAACC,EAAOT,GAAR,OACR,sBAEEO,UAAU,YACVG,YACE5B,IAAa2B,EAAMR,MAAMU,OACrB,SAACvB,GAAD,OAAOD,EAAgBC,EAAG,CAAEY,aAAYG,WAAY,KACpD,KANR,UASE,qBAAKI,UAAU,cAAf,SAA8BE,EAAMG,QACnCH,EAAMR,MAAMO,KAAI,SAACK,EAAMV,GAAP,OACf,qBACEW,WAAS,EACTC,YAAa,SAAC3B,IAjEF,SAACA,EAAGC,GAC1BC,QAAQC,IAAI,kBAAmBF,GAC/BL,EAASS,QAAUJ,EACnBH,EAASO,QAAUL,EAAEM,OACrBR,EAASO,QAAQuB,iBAAiB,UAAWZ,GAC7Ca,YAAW,WACTlC,GAAY,KACX,GA2DSmC,CAAgB9B,EAAG,CAAEY,aAAYG,gBAEnCO,YACE5B,EACI,SAACM,GACCD,EAAgBC,EAAG,CAAEY,aAAYG,gBAEnC,KAGNI,UACEzB,EAAWwB,EAAUN,GAA0B,WAdnD,SAiBGa,GALIA,QAtBJJ,EAAMG,aC5DflC,EAAO,CACX,CACEkC,MAAO,UACPX,MAAO,CAAC,IAAK,IAAK,MAEpB,CACEW,MAAO,UACPX,MAAO,CAAC,IAAK,OAcFkB,MAVf,WACE,OACE,qBAAKZ,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACE,cAAC,EAAD,CAAW7B,KAAMA,SCZzB0C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.5e347c48.chunk.js","sourcesContent":["import React, { useState, useRef } from \"react\";\r\n\r\nfunction DragnDrop({ data }) {\r\n  const [list, setList] = useState(data);\r\n  const [dragging, setDragging] = useState(false);\r\n\r\n  const dragItem = useRef();\r\n  const dragNode = useRef();\r\n\r\n  const handleDragStart = (e, params) => {\r\n    console.log(\"Drag starting..\", params);\r\n    dragItem.current = params;\r\n    dragNode.current = e.target;\r\n    dragNode.current.addEventListener(\"dragend\", handleDragEnd);\r\n    setTimeout(() => {\r\n      setDragging(true);\r\n    }, 0);\r\n  };\r\n\r\n  const handleDragEnter = (e, params) => {\r\n    console.log(\"Entering Drag\", params);\r\n    const currentItem = dragItem.current;\r\n    if (e.target !== dragNode.current) {\r\n      console.log(\"TARGET IS NOT THE SAME\");\r\n      setList((oldList) => {\r\n        let newList = JSON.parse(JSON.stringify(oldList));\r\n        newList[params.groupIndex].items.splice(\r\n          params.itemsIndex,\r\n          0,\r\n          newList[currentItem.groupIndex].items.splice(\r\n            currentItem.itemsIndex,\r\n            1\r\n          )[0]\r\n        );\r\n        dragItem.current = params;\r\n        return newList;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDragEnd = () => {\r\n    console.log(\"Drag Ending..\");\r\n\r\n    setDragging(false);\r\n    dragNode.current.removeEventListener(\"dragend\", handleDragEnd);\r\n    dragItem.current = null;\r\n    dragNode.current = null;\r\n  };\r\n  const getStyles = (params) => {\r\n    const currentItem = dragItem.current;\r\n    if (\r\n      currentItem.groupIndex === params.groupIndex &&\r\n      currentItem.itemsIndex === params.itemsIndex\r\n    ) {\r\n      return \"current dnd-item\";\r\n    }\r\n    return \"dnd-item\";\r\n  };\r\n  return (\r\n    <div className=\"drag-n-drop\">\r\n      {list.map((group, groupIndex) => (\r\n        <div\r\n          key={group.title}\r\n          className=\"dnd-group\"\r\n          onDragEnter={\r\n            dragging && !group.items.length\r\n              ? (e) => handleDragEnter(e, { groupIndex, itemsIndex: 0 })\r\n              : null\r\n          }\r\n        >\r\n          <div className=\"group-title\">{group.title}</div>\r\n          {group.items.map((item, itemsIndex) => (\r\n            <div\r\n              draggable\r\n              onDragStart={(e) => {\r\n                handleDragStart(e, { groupIndex, itemsIndex });\r\n              }}\r\n              onDragEnter={\r\n                dragging\r\n                  ? (e) => {\r\n                      handleDragEnter(e, { groupIndex, itemsIndex });\r\n                    }\r\n                  : null\r\n              }\r\n              key={item}\r\n              className={\r\n                dragging ? getStyles(groupIndex, itemsIndex) : \"dnd-item\"\r\n              }\r\n            >\r\n              {item}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DragnDrop;\r\n","import DragnDrop from \"./components/DragnDrop\";\n\nconst data = [\n  {\n    title: \"Group 1\",\n    items: [\"1\", \"2\", \"3\"],\n  },\n  {\n    title: \"Group 2\",\n    items: [\"4\", \"5\"],\n  },\n];\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <DragnDrop data={data} />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}